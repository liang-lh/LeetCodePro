Study the problem and trace through the examples carefully. Understand what behavior is required, design an algorithm that handles all cases, implement it completely, and verify your solution works.

JSON output:
- "reasoning": Your analysis of this specific problem, your solution approach, and how you verified correctness
- "result": Complete, executable code matching the template exactly, fully implemented without gaps

Focus on solving the presented problem. Produce working code that runs immediately.