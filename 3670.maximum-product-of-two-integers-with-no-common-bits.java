#\n# @lc app=leetcode id=3670 lang=java\n#\n# [3670] Maximum Product of Two Integers With No Common Bits\n#\n\n# @lc code=start\nclass Solution {\n    private static class TrieNode {\n        TrieNode[] children = new TrieNode[2];\n    }\n\n    public long maxProduct(int[] nums) {\n        TrieNode root = new TrieNode();\n        long ans = 0;\n        for (int num : nums) {\n            long other = getMaxOther(root, num);\n            ans = Math.max(ans, (long) num * other);\n            insert(root, num);\n        }\n        return ans;\n    }\n\n    private long getMaxOther(TrieNode root, int cur) {\n        TrieNode node = root;\n        long res = 0;\n        for (int k = 19; k >= 0; k--) {\n            int bit = (cur >> k) & 1;\n            if (bit == 1) {\n                if (node.children[0] == null) {\n                    return 0;\n                }\n                node = node.children[0];\n            } else {\n                if (node.children[1] != null) {\n                    res |= (1L << k);\n                    node = node.children[1];\n                } else if (node.children[0] != null) {\n                    node = node.children[0];\n                } else {\n                    return 0;\n                }\n            }\n        }\n        return res;\n    }\n\n    private void insert(TrieNode root, int num) {\n        TrieNode node = root;\n        for (int k = 19; k >= 0; k--) {\n            int bit = (num >> k) & 1;\n            if (node.children[bit] == null) {\n                node.children[bit] = new TrieNode();\n            }\n            node = node.children[bit];\n        }\n    }\n}\n# @lc code=end