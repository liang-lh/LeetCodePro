#\n# @lc app=leetcode id=3399 lang=golang\n#\n# [3399] Smallest Substring With Identical Characters II\n#\n\n# @lc code=start\nfunc minLength(s string, numOps int) int {\n\tn := len(s)\n\tleft, right := 1, n\n\tfor left < right {\n\t\tmid := left + (right - left) / 2\n\t\tif can(s, numOps, mid) {\n\t\t\tright = mid\n\t\t} else {\n\t\t\tleft = mid + 1\n\t\t}\n\t}\n\treturn left\n}\n\nfunc can(s string, ops, k int) bool {\n\tneed := 0\n\ti := 0\n\tn := len(s)\n\tfor i < n {\n\t\tstart := i\n\t\tfor i < n && s[i] == s[start] {\n\t\t\ti++\n\t\t}\n\t\tL := i - start\n\t\tneed += L / (k + 1)\n\t\tif need > ops {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn need <= ops\n}\n# @lc code=end